<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../elements/web-app/page-home.html">
<link rel="import" href="../../elements/web-app/page-resume.html">
<dom-module id="web-app">
<template>
    <app-location route="{{route}}" use-hash-as-path></app-location>
    <app-route
        route="{{route}}"
        pattern="/:page"
        data="{{data}}"
        tail="{{tail}}">
    </app-route>
    <paper-drawer-panel force-narrow>

        <paper-header-panel drawer>
            <paper-toolbar></paper-toolbar>
            <div> Drawer content... </div>
        </paper-header-panel>

        <paper-header-panel main>
            <paper-toolbar>
                <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
            </paper-toolbar>
            <iron-pages attr-for-selected="data-route" selected="[[data.page]]" fallback-selection="404">
                <page-home data-route=""></page-home>
                <page-resume data-route="resume"></page-resume>
            </iron-pages>
        </paper-header-panel>

    </paper-drawer-panel>
</template>
<script>
    Polymer({
        is: "web-app",
        ready: function() {

		/* Redirects if the url is just /sea5 and has no hash */
		page('/', function() {
			page.redirect('/#/');
		});

		/* Tells page.js to use hashbangs */
		page({
        	hashbang: true
        });
	},
    });
</script>
</dom-module>
